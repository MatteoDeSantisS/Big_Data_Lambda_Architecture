-------- HADOOP -------------

hdfs namenode -format

hdfs dfs -rm -R /hdfspath

hdfs dfs -put /localpath /hdfspath

$HADOOP_HOME/sbin/stop-all.sh

$HADOOP_HOME/sbin/start-all.sh

hdfs dfs -mkdir /path

hdfs dfs -chmod g+w /hdfspath

rm -rf mestastore_db | schemaTool -dbType derby -initSchema

-------- KAFKA --------------
sudo systemctl enable zookeeper
sudo systemctl enable kafka

Avvia Zookeeper
$KAFKA_HOME/bin/zookeeper-server-start.sh $KAFKA_HOME/config/zookeeper.properties

Avvia Kafka
$KAFKA_HOME/bin/kafka-server-start.sh $KAFKA_HOME/config/server.properties

Crea un topic
$KAFKA_HOME/bin/kafka-topics.sh --create --topic mytopic --zookeeper localhost:2181 --partitions 1 --replication-factor 1

Lista dei topic
$KAFKA_HOME/bin/kafka-topics.sh --list --zookeeper localhost:2181

Avvia un consumer
$KAFKA_HOME/bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic sensors-data --from-beginning

---------- CASSANDRA -------------

nodetool status 

Entra nel terminale
cqlsh
create keyspace <nomekeyspace>;
use <nomekeyspace>;
create table <nometable>;

$CASSANDRA_HOME/bin/cassandra


-------------------------------------
$SPARK_HOME/bin/spark-submit --packages "org.apache.spark:spark-sql-kafka-0-10_2.12:3.1.1,com.datastax.spark:spark-cassandra-connector_2.12:3.0.1" --master local[4] con-cassandra.py 

